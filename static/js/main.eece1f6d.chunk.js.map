{"version":3,"sources":["components/Search/styles.module.scss","components/Resultado/styles.module.scss","pages/Historico/styles.module.scss","components/Header/styles.module.scss","pages/Main/styles.module.scss","services/api.js","components/Resultado/index.jsx","components/Search/index.jsx","pages/Main/index.jsx","pages/Historico/index.jsx","components/Header/index.jsx","routes.js","app.js","index.js"],"names":["module","exports","api","axios","create","baseURL","params","api_key","process","ResultadoArt","resultado","className","styles","Resultado","key","id","map","art","ResultadoContent","url","href","target","src","image","alt","ResultadoContentInfo","name","initialStateRequest","success","error","response","initialStateForm","typeSearch","valueSearch","Search","React","useState","request","setRequest","valueInput","setValue","handleInputChange","event","value","prevState","savingHistory","history","JSON","parse","localStorage","getItem","currentDate","Date","toLocaleString","newHistory","term","date","push","setItem","stringify","handleSubmit","a","preventDefault","nameSearch","get","artist","format","album","data","results","artistmatches","albummatches","console","log","SearchTitle","type","onChange","SearchForm","onSubmit","htmlFor","placeholder","required","SearchFormButton","onClick","document","location","reload","Main","Historico","HistoricoHeader","clear","item","index","HistoricoContent","Header","HeaderLogo","HeaderNavBar","to","Routes","exact","path","component","props","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.eece1f6d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Search\":\"styles_Search__3o_5Q\",\"SearchTitle\":\"styles_SearchTitle__3TIrF\",\"SearchForm\":\"styles_SearchForm__2kQIS\",\"SearchFormButton\":\"styles_SearchFormButton__gDMNz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Resultado\":\"styles_Resultado__2Atek\",\"ResultadoContent\":\"styles_ResultadoContent__2_0mc\",\"ResultadoContentInfo\":\"styles_ResultadoContentInfo__-9AbU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Historico\":\"styles_Historico__2UsaG\",\"HistoricoHeader\":\"styles_HistoricoHeader__3q4T8\",\"HistoricoContent\":\"styles_HistoricoContent__39cvy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"styles_Header__2KoFd\",\"HeaderLogo\":\"styles_HeaderLogo__AOrjy\",\"HeaderNavBar\":\"styles_HeaderNavBar__1iW6w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"styles_Main__3TFCw\"};","import axios from \"axios\";\n\nconst api_key = process.env.REACT_APP_LAST_FM_API_KEY;\n\nconst api = axios.create({\n   baseURL: \"http://ws.audioscrobbler.com/2.0\",\n   params: {\n      api_key,\n   },\n});\n\nexport default api;\n","import React from \"react\";\n\nimport styles from \"./styles.module.scss\";\n\nconst ResultadoArt = ({ resultado }) => {\n   return (\n      <div className={styles.Resultado} key={resultado.id}>\n         {resultado.map((art) => {\n            return (\n               <div className={styles.ResultadoContent} key={art.url}>\n                  <a href={art.url} target=\"blank\">\n                     <img\n                        src={\n                           art.image[2][\"#text\"]\n                              ? art.image[1][\"#text\"]\n                              : \"https://via.placeholder.com/64\"\n                        }\n                        alt=\"imagem\"\n                     />\n                  </a>\n                  <a href={art.url} target=\"blank\">\n                     <div className={styles.ResultadoContentInfo}>\n                        <h2>{art.name}</h2>\n                     </div>\n                  </a>\n               </div>\n            );\n         })}\n      </div>\n   );\n};\n\nexport default ResultadoArt;\n","import React from \"react\";\nimport api from \"../../services/api\";\n\nimport styles from \"./styles.module.scss\";\n\nimport Resultado from \"../Resultado\";\n\nconst initialStateRequest = {\n   success: false,\n   error: false,\n   response: [],\n};\n\nconst initialStateForm = {\n   typeSearch: \"artist\",\n   valueSearch: \"\",\n};\n\nconst Search = () => {\n   const [request, setRequest] = React.useState(initialStateRequest);\n   const [valueInput, setValue] = React.useState(initialStateForm);\n\n   const handleInputChange = (event) => {\n      const { name, value } = event.target;\n\n      setValue((prevState) => ({\n         ...prevState,\n         [name]: value,\n      }));\n   };\n\n   const savingHistory = () => {\n      const history = JSON.parse(localStorage.getItem(\"s-m-l-history\"));\n      const currentDate = new Date().toLocaleString(\"pt-BR\");\n\n      const newHistory = {\n         term: valueInput.valueSearch,\n         date: currentDate,\n      };\n\n      if (!!history) {\n         history.push(newHistory);\n         localStorage.setItem(\"s-m-l-history\", JSON.stringify(history));\n      } else {\n         localStorage.setItem(\"s-m-l-history\", JSON.stringify([newHistory]));\n      }\n   };\n\n   const handleSubmit = async (event) => {\n      event.preventDefault();\n      savingHistory();\n\n      const typeSearch = valueInput.typeSearch;\n      const nameSearch = valueInput.valueSearch;\n\n      try {\n         const response =\n            typeSearch === \"artist\"\n               ? await api.get(\"/?method=artist.search\", {\n                    params: {\n                       artist: nameSearch,\n                       format: \"json\",\n                    },\n                 })\n               : await api.get(\"/?method=album.search\", {\n                    params: {\n                       album: nameSearch,\n                       format: \"json\",\n                    },\n                 });\n\n         setRequest({\n            success: true,\n            error: false,\n            response:\n               typeSearch === \"artist\"\n                  ? response.data.results.artistmatches.artist\n                  : response.data.results.albummatches.album,\n         });\n      } catch (error) {\n         console.log(\"error\", error);\n         setRequest({\n            success: false,\n            error: true,\n            response: [],\n         });\n      }\n   };\n\n   const cleanSearch = () => {\n      setValue(initialStateForm);\n      document.location.reload();\n   };\n\n   return (\n      <>\n         <div className={styles.Search}>\n            <div className={styles.SearchTitle}>\n               Pesquisando por\n               <select\n                  name=\"typeSearch\"\n                  id=\"typeSearch\"\n                  type=\"text\"\n                  onChange={handleInputChange}\n                  value={valueInput.typeSearch}\n               >\n                  <option value=\"artist\">Artista</option>\n                  <option value=\"album\">Album</option>\n               </select>\n            </div>\n            <form className={styles.SearchForm} onSubmit={handleSubmit}>\n               <label htmlFor=\"valueSearch\" />\n               <input\n                  name=\"valueSearch\"\n                  id=\"valueSearch\"\n                  type=\"text\"\n                  value={valueInput.valueSearch}\n                  onChange={handleInputChange}\n                  placeholder=\"Digite o nome\"\n                  required\n               />\n\n               <div className={styles.SearchFormButton}>\n                  <button type=\"submit\">Buscar</button>\n                  <button type=\"button\" onClick={cleanSearch}>\n                     Limpar\n                  </button>\n               </div>\n            </form>\n         </div>\n         <Resultado resultado={request.response} />\n      </>\n   );\n};\n\nexport default Search;\n","import React from \"react\";\n\nimport styles from \"./styles.module.scss\";\n\nimport Search from \"../../components/Search\";\nimport Resultado from \"../../components/Resultado\";\n\nconst Main = () => {\n   return (\n      <div className={styles.Main}>\n         <Search />\n         <Resultado resultado={[]} />\n      </div>\n   );\n};\n\nexport default Main;\n","import React from \"react\";\n\nimport styles from \"./styles.module.scss\";\n\nfunction Historico() {\n   const [history] = React.useState(() =>\n      JSON.parse(localStorage.getItem(\"s-m-l-history\"))\n   );\n\n   function handleClearHistory() {\n      localStorage.clear();\n      document.location.reload();\n   }\n\n   return (\n      <div className={styles.Historico}>\n         <div className={styles.HistoricoHeader}>\n            <h1>HISTÓRICO</h1>\n            <button onClick={handleClearHistory}>Apagar histórico</button>\n         </div>\n         {history?.map((item, index) => {\n            return (\n               <div key={index} className={styles.HistoricoContent}>\n                  <h2>{item.term}</h2>\n                  <span>{item.date}</span>\n               </div>\n            );\n         })}\n      </div>\n   );\n}\n\nexport default Historico;\n","import React from \"react\";\n\nimport styles from \"./styles.module.scss\";\n\nimport { Link } from \"react-router-dom\";\n\nconst Header = () => {\n   return (\n      <header className={styles.Header}>\n         <div className={styles.HeaderLogo}>\n            <h1>MUSIC</h1>\n         </div>\n         <nav className={styles.HeaderNavBar}>\n            <Link to=\"/\">Pesquisar</Link>\n            <Link to=\"/historico\">Histórico</Link>\n         </nav>\n      </header>\n   );\n};\n\nexport default Header;\n","import React from \"react\";\n\nimport { Route, HashRouter } from \"react-router-dom\";\n\nimport Main from \"./pages/Main\";\nimport Historico from \"./pages/Historico\";\nimport Header from \"./components/Header\";\n\nconst Routes = () => (\n   <HashRouter>\n      <div className=\"app\">\n         <Header />\n         <Route exact path=\"/\" component={Main} />\n         <Route path=\"/historico\" component={Historico} />\n      </div>\n   </HashRouter>\n);\n\nexport default Routes;\n","import React from \"react\";\n\nimport Routes from \"./routes\";\n\nexport default (props) => {\n   return <Routes />;\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app\";\nimport \"./styles/global.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}